# (PART) Additional info {-}

# Interactive analysis tools

```{r include=FALSE}
raman_spectrum <- structure(list(wavenumber = c(193.7, 195.1, 196.6, 198.1, 199.5, 
201, 202.5, 203.9, 205.4, 206.9, 208.3, 209.8, 211.3, 212.7, 
214.2, 215.6, 217.1, 218.6, 220, 221.5, 223, 224.4, 225.9, 227.3, 
228.8, 230.3, 231.7, 233.2, 234.6, 236.1, 237.6, 239, 240.5, 
241.9, 243.4, 244.9, 246.3, 247.8, 249.2, 250.7, 252.1, 253.6, 
255, 256.5, 258, 259.4, 260.9, 262.3, 263.8, 265.2, 266.7, 268.1, 
269.6, 271, 272.5, 273.9, 275.4, 276.8, 278.3, 279.7, 281.2, 
282.6, 284.1, 285.5, 287, 288.4, 289.9, 291.3, 292.8, 294.2, 
295.7, 297.1, 298.5, 300, 301.4, 302.9, 304.3, 305.8, 307.2, 
308.7, 310.1, 311.5, 313, 314.4, 315.9, 317.3, 318.8, 320.2, 
321.6, 323.1, 324.5, 326, 327.4, 328.8, 330.3, 331.7, 333.1, 
334.6, 336, 337.5, 338.9, 340.3, 341.8, 343.2, 344.6, 346.1, 
347.5, 348.9, 350.4, 351.8, 353.3, 354.7, 356.1, 357.6, 359, 
360.4, 361.8, 363.3, 364.7, 366.1, 367.6, 369, 370.4, 371.9, 
373.3, 374.7, 376.2, 377.6, 379, 380.4, 381.9, 383.3, 384.7, 
386.2, 387.6, 389, 390.4, 391.9, 393.3, 394.7, 396.1, 397.6, 
399, 400.4, 401.8, 403.3, 404.7, 406.1, 407.5, 408.9, 410.4, 
411.8, 413.2, 414.6, 416, 417.5, 418.9, 420.3, 421.7, 423.1, 
424.6, 426, 427.4, 428.8, 430.2, 431.7, 433.1, 434.5, 435.9, 
437.3, 438.7, 440.2, 441.6, 443, 444.4, 445.8, 447.2, 448.6, 
450.1, 451.5, 452.9, 454.3, 455.7, 457.1, 458.5, 459.9, 461.4, 
462.8, 464.2, 465.6, 467, 468.4, 469.8, 471.2, 472.6, 474, 475.5, 
476.9, 478.3, 479.7, 481.1, 482.5, 483.9, 485.3, 486.7, 488.1, 
489.5, 490.9, 492.3, 493.7, 495.1, 496.6, 498, 499.4, 500.8, 
502.2, 503.6, 505, 506.4, 507.8, 509.2, 510.6, 512, 513.4, 514.8, 
516.2, 517.6, 519, 520.4, 521.8, 523.2, 524.6, 526, 527.4, 528.8, 
530.2, 531.6, 533, 534.4, 535.8, 537.1, 538.5, 539.9, 541.3, 
542.7, 544.1, 545.5, 546.9, 548.3, 549.7, 551.1, 552.5, 553.9, 
555.3, 556.7, 558, 559.4, 560.8, 562.2, 563.6, 565, 566.4, 567.8, 
569.2, 570.6, 571.9, 573.3, 574.7, 576.1, 577.5, 578.9, 580.3, 
581.7, 583, 584.4, 585.8, 587.2, 588.6, 590, 591.4, 592.7, 594.1, 
595.5, 596.9, 598.3, 599.7, 601, 602.4, 603.8, 605.2, 606.6, 
608, 609.3, 610.7, 612.1, 613.5, 614.9, 616.2, 617.6, 619, 620.4, 
621.8, 623.1, 624.5, 625.9, 627.3, 628.6, 630, 631.4, 632.8, 
634.1, 635.5, 636.9, 638.3, 639.7, 641, 642.4, 643.8, 645.1, 
646.5, 647.9, 649.3, 650.6, 652, 653.4, 654.8, 656.1, 657.5, 
658.9, 660.2, 661.6, 663, 664.4, 665.7, 667.1, 668.5, 669.8, 
671.2, 672.6, 673.9, 675.3, 676.7, 678, 679.4, 680.8, 682.1, 
683.5, 684.9, 686.2, 687.6, 689, 690.3, 691.7, 693.1, 694.4, 
695.8, 697.2, 698.5, 699.9, 701.2, 702.6, 704, 705.3, 706.7, 
708.1, 709.4, 710.8, 712.1, 713.5, 714.9, 716.2, 717.6, 718.9, 
720.3, 721.6, 723, 724.4, 725.7, 727.1, 728.4, 729.8, 731.2, 
732.5, 733.9, 735.2, 736.6, 737.9, 739.3, 740.6, 742, 743.3, 
744.7, 746.1, 747.4, 748.8, 750.1, 751.5, 752.8, 754.2, 755.5, 
756.9, 758.2, 759.6, 760.9, 762.3, 763.6, 765, 766.3, 767.7, 
769, 770.4, 771.7, 773.1, 774.4, 775.8, 777.1, 778.5, 779.8, 
781.2, 782.5, 783.9, 785.2, 786.5, 787.9, 789.2, 790.6, 791.9, 
793.3, 794.6, 796, 797.3, 798.6, 800, 801.3, 802.7, 804, 805.4, 
806.7, 808, 809.4, 810.7, 812.1, 813.4, 814.7, 816.1, 817.4, 
818.8, 820.1, 821.4, 822.8, 824.1, 825.5, 826.8, 828.1, 829.5, 
830.8, 832.1, 833.5, 834.8, 836.1, 837.5, 838.8, 840.2, 841.5, 
842.8, 844.2, 845.5, 846.8, 848.2, 849.5, 850.8, 852.2, 853.5, 
854.8, 856.2, 857.5, 858.8, 860.1, 861.5, 862.8, 864.1, 865.5, 
866.8, 868.1, 869.5, 870.8, 872.1, 873.4, 874.8, 876.1, 877.4, 
878.8, 880.1, 881.4, 882.7, 884.1, 885.4, 886.7, 888, 889.4, 
890.7, 892, 893.3, 894.7, 896, 897.3, 898.6, 900, 901.3, 902.6, 
903.9, 905.3, 906.6, 907.9, 909.2, 910.5, 911.9, 913.2, 914.5, 
915.8, 917.1, 918.5, 919.8, 921.1, 922.4, 923.7, 925.1, 926.4, 
927.7, 929, 930.3, 931.6, 933, 934.3, 935.6, 936.9, 938.2, 939.5, 
940.9, 942.2, 943.5, 944.8, 946.1, 947.4, 948.7, 950.1, 951.4, 
952.7, 954, 955.3, 956.6, 957.9, 959.2, 960.6, 961.9, 963.2, 
964.5, 965.8, 967.1, 968.4, 969.7, 971, 972.4, 973.7, 975, 976.3, 
977.6, 978.9, 980.2, 981.5, 982.8, 984.1, 985.4, 986.7, 988, 
989.3, 990.7, 992, 993.3, 994.6, 995.9, 997.2, 998.5, 999.8, 
1001.1, 1002.4, 1003.7, 1005, 1006.3, 1007.6, 1008.9, 1010.2, 
1011.5, 1012.8, 1014.1, 1015.4, 1016.7, 1018, 1019.3, 1020.6, 
1021.9, 1023.2, 1024.5, 1025.8, 1027.1, 1028.4, 1029.7, 1031, 
1032.3, 1033.6, 1034.9, 1036.2, 1037.5, 1038.8, 1040.1, 1041.4, 
1042.7, 1044, 1045.3, 1046.6, 1047.9, 1049.1, 1050.4, 1051.7, 
1053, 1054.3, 1055.6, 1056.9, 1058.2, 1059.5, 1060.8, 1062.1, 
1063.4, 1064.7, 1066, 1067.2, 1068.5, 1069.8, 1071.1, 1072.4, 
1073.7, 1075, 1076.3, 1077.6, 1078.9, 1080.1, 1081.4, 1082.7, 
1084, 1085.3, 1086.6, 1087.9, 1089.2, 1090.4, 1091.7, 1093, 1094.3, 
1095.6, 1096.9, 1098.2, 1099.4, 1100.7, 1102, 1103.3, 1104.6, 
1105.9, 1107.1, 1108.4, 1109.7, 1111, 1112.3, 1113.6, 1114.8, 
1116.1, 1117.4, 1118.7, 1120, 1121.2, 1122.5, 1123.8, 1125.1, 
1126.4, 1127.6, 1128.9, 1130.2, 1131.5, 1132.8, 1134, 1135.3, 
1136.6, 1137.9, 1139.1, 1140.4, 1141.7, 1143, 1144.2, 1145.5, 
1146.8, 1148.1, 1149.3, 1150.6, 1151.9, 1153.2, 1154.4, 1155.7, 
1157, 1158.3, 1159.5, 1160.8, 1162.1, 1163.4, 1164.6, 1165.9, 
1167.2, 1168.4, 1169.7, 1171, 1172.3, 1173.5, 1174.8, 1176.1, 
1177.3, 1178.6, 1179.9, 1181.1, 1182.4, 1183.7, 1184.9, 1186.2, 
1187.5, 1188.8, 1190, 1191.3, 1192.6, 1193.8, 1195.1, 1196.3, 
1197.6, 1198.9, 1200.1, 1201.4, 1202.7, 1203.9, 1205.2, 1206.5, 
1207.7, 1209, 1210.3, 1211.5, 1212.8, 1214, 1215.3, 1216.6, 1217.8, 
1219.1, 1220.4, 1221.6, 1222.9, 1224.1, 1225.4, 1226.7, 1227.9, 
1229.2, 1230.4, 1231.7, 1233, 1234.2, 1235.5, 1236.7, 1238, 1239.3, 
1240.5, 1241.8, 1243, 1244.3, 1245.5, 1246.8, 1248, 1249.3, 1250.6, 
1251.8, 1253.1, 1254.3, 1255.6, 1256.8, 1258.1, 1259.3, 1260.6, 
1261.9, 1263.1, 1264.4, 1265.6, 1266.9, 1268.1, 1269.4, 1270.6, 
1271.9, 1273.1, 1274.4, 1275.6, 1276.9, 1278.1, 1279.4, 1280.6, 
1281.9, 1283.1, 1284.4, 1285.6, 1286.9, 1288.1, 1289.4, 1290.6, 
1291.9, 1293.1, 1294.4, 1295.6, 1296.9, 1298.1, 1299.3, 1300.6, 
1301.8, 1303.1, 1304.3, 1305.6, 1306.8, 1308.1, 1309.3, 1310.6, 
1311.8, 1313, 1314.3, 1315.5, 1316.8, 1318, 1319.3, 1320.5, 1321.7, 
1323, 1324.2, 1325.5, 1326.7, 1327.9, 1329.2, 1330.4, 1331.7, 
1332.9, 1334.1, 1335.4, 1336.6, 1337.9, 1339.1, 1340.3, 1341.6, 
1342.8, 1344.1, 1345.3, 1346.5, 1347.8, 1349, 1350.2, 1351.5, 
1352.7, 1353.9, 1355.2, 1356.4, 1357.7, 1358.9, 1360.1, 1361.4, 
1362.6, 1363.8, 1365.1, 1366.3, 1367.5, 1368.8, 1370, 1371.2, 
1372.5, 1373.7, 1374.9, 1376.2, 1377.4, 1378.6, 1379.9, 1381.1, 
1382.3, 1383.5, 1384.8, 1386, 1387.2, 1388.5, 1389.7, 1390.9, 
1392.1, 1393.4, 1394.6, 1395.8, 1397.1, 1398.3, 1399.5, 1400.7, 
1402, 1403.2, 1404.4, 1405.6, 1406.9, 1408.1, 1409.3, 1410.6, 
1411.8, 1413, 1414.2, 1415.4, 1416.7, 1417.9, 1419.1, 1420.3, 
1421.6, 1422.8, 1424, 1425.2, 1426.5, 1427.7, 1428.9, 1430.1, 
1431.3, 1432.6, 1433.8, 1435, 1436.2, 1437.4, 1438.7, 1439.9, 
1441.1, 1442.3, 1443.5, 1444.8, 1446, 1447.2, 1448.4, 1449.6, 
1450.9, 1452.1, 1453.3, 1454.5, 1455.7, 1456.9, 1458.2, 1459.4, 
1460.6, 1461.8, 1463, 1464.2, 1465.4, 1466.7, 1467.9, 1469.1, 
1470.3, 1471.5, 1472.7, 1473.9, 1475.2, 1476.4, 1477.6, 1478.8, 
1480, 1481.2, 1482.4, 1483.6, 1484.8, 1486.1, 1487.3, 1488.5, 
1489.7, 1490.9, 1492.1, 1493.3, 1494.5, 1495.7, 1496.9, 1498.2, 
1499.4, 1500.6, 1501.8, 1503, 1504.2, 1505.4, 1506.6, 1507.8, 
1509, 1510.2, 1511.4, 1512.6, 1513.8, 1515.1, 1516.3, 1517.5, 
1518.7, 1519.9, 1521.1, 1522.3, 1523.5, 1524.7, 1525.9, 1527.1, 
1528.3, 1529.5, 1530.7, 1531.9, 1533.1, 1534.3, 1535.5, 1536.7, 
1537.9, 1539.1), int_mean = c(40.5, 41.4, 34.7, 34, 31.3, 22.9, 
20.6, 6.5, 5.7, 3.8, 1, -8.4, -10.1, -1, -13.9, -21.2, -27.2, 
-33.9, -10.5, -18.6, -14, -25.7, -17.5, -22.3, -19.3, -21.7, 
-14.9, -7.5, -12, -2.7, -5.9, -12.5, -0.2, -2.8, -13.9, 4.6, 
11.5, 5.3, -2.7, 5.7, -1.6, -4.5, 18.1, 5.8, -4.4, 21.2, -2.1, 
16.6, 9.6, 12.5, 10.4, 11.5, 4.8, 8.9, 5.1, -0.4, 9.6, -2.8, 
-1.4, 5.8, 0.8, 5.4, 13.3, 15.4, 13.1, 26.4, 34.1, 24.4, 28.8, 
36.3, 52.8, 75.8, 72.2, 76.9, 59.5, 43.1, 51.3, 53.6, 60, 60.6, 
61.6, 77.7, 83.7, 81.5, 71.6, 57.3, 64.9, 35.2, 38.9, 28.5, 25.6, 
28.3, 28, 21, 1.2, 19.6, 3, 10.9, 9.3, 17.5, -0.7, 8, 6.6, 12, 
-1.3, 5.2, 14.8, 7.5, 12.6, 15.5, 1.1, 18.6, 17.5, -3.2, 3.5, 
22.3, -3.7, -16.3, 9.4, -0.4, -17.1, -9.7, -13.1, -16.6, -11.3, 
-20.6, -22.6, -11.7, -20.2, -24, -22.2, -21.3, -41.3, -30.3, 
-45.9, -37.3, -27.5, -28.6, -18.4, -24.5, -19.7, -22.9, -11.2, 
-22.5, -23.2, -10.1, -11.1, -4.8, -10, -8.7, -21.3, -9.3, -2.6, 
4.7, -17, -5.5, -3.4, -27.5, -23.7, -13.7, -13.7, 4.8, -10.7, 
-1.8, -1.5, -4.5, 12, 12.8, 2.5, -0.8, 16.3, 25.3, 38.9, 48, 
91.6, 132.4, 145.6, 123.6, 89.6, 61.9, 47.4, 38.4, 24.7, 37.7, 
34.6, 32.5, 36.1, 17.2, 26.1, 14.8, 17.5, 22.3, 26, 31, 39.5, 
31.6, 25.6, 11, 43.9, 12.8, 30.2, 25.3, 37.8, 31.6, 12.9, 34.7, 
37.2, 40.8, 28.5, 24.9, 35.2, 43.5, 79.9, 91.5, 120.9, 114.5, 
76.2, 57, 31.6, 52.2, 38, 39.4, 32.4, 46.3, 38.4, 18.8, 35.9, 
42.8, 55.1, 88.1, 87.3, 88.1, 103, 94.1, 100.2, 89, 71.6, 51, 
46.2, 22.7, 26.5, 34, 53.9, 63.7, 61, 53.9, 31.4, 12, -9.3, 11.3, 
16.5, 18.2, 12.8, 18.4, 16.2, 1.1, 15.6, 10.3, 0.1, 3, 3.5, 12.8, 
3.8, -4, 14.1, 6.5, 17.6, 14.4, 20.9, 9.3, 3.2, 7.1, 8.4, 6.1, 
13, 9.2, 7, 13.1, 6.3, -12.1, 19, 22.2, 12, 18.4, -5.1, 6.6, 
-0.8, 13.7, -3.3, -7.8, 21.5, 24.4, -9.5, -3.4, 12.6, -21.5, 
1.1, 8.2, -12.6, -0.2, 18.3, 9.5, 13, 24, 2.4, -5.5, 0.7, 4.1, 
17.2, 28.8, 59.6, 93.6, 133.7, 280, 497.3, 511.6, 302.1, 99.9, 
42.9, 29.8, -1.7, 5.4, 3.6, -16.7, 4, 4, 8.9, -7.8, -44.6, -35.9, 
-10.6, -11.3, -12.5, 0.2, 2.3, -8.5, -21, -9.8, -16.6, -17.7, 
1.4, -7.8, -12.1, -12.6, -7.7, -1.2, 17.8, 38.3, 56.8, 47.9, 
34.1, 33.9, 28.4, -10.6, -5.7, 1.8, 6.8, 13.8, 19.6, 18.1, 7.1, 
12.9, 19.9, 20.2, -4, 25.9, 17.7, 20.2, 2.5, 17.9, 16.4, 15.9, 
27.9, 31.5, 17, 39.4, 11.4, 25.5, 35, 25.8, 45.7, 48.1, 59.3, 
63.5, 42.6, 52, 72.3, 48.9, 31.6, 48.8, 63, 48.7, 24.7, 41.4, 
40.8, 33.5, 23, 33.8, 15.5, 16.1, 15.8, 28.5, 45.9, 46, 29.3, 
67.8, 97.5, 208.3, 295.2, 369.5, 283.4, 125.1, 37.8, 22.3, 24.4, 
18.4, 40.9, 57.8, 21, 20.1, 7.2, 40.3, 21.4, 15.3, 4.8, 18.1, 
35.3, 35.8, 18.4, 25.7, 33.2, 36.3, 29.2, -4.6, 22.5, 14.7, 47.3, 
47.8, 9.2, 23, 37, 27.1, 31.5, 48.6, 90, 88.6, 137.6, 219.7, 
203.1, 128.8, 124.8, 69.3, 48.7, 50.5, 43.1, 56.9, 48.9, 48.2, 
38.5, 49.1, 52.3, 59.2, 30.3, 39.3, 74.8, 69.6, 113.8, 111, 163, 
164.2, 138.7, 105.5, 52.9, 45.7, 47.7, 50.7, 28.6, 18.2, 30.5, 
20.6, 31.4, 47.7, 13.5, 12.1, 19.7, 22.3, 20.7, 38.8, 28.1, 68, 
40.1, 25.3, 32.3, 18.8, 28.9, 14.9, 6.6, 5.1, 6.3, 27.6, 49.9, 
20.2, 26.7, 23, 9.6, 8.3, -0.5, 11.5, 6.4, 13.2, 14.7, 16, 10.5, 
21.8, 50.8, 16.1, 55.1, 18.6, 29.6, 35.3, 58.3, 81, 71.6, 91.3, 
97.7, 123.8, 173.4, 203.4, 199.7, 226.5, 225.3, 162.7, 148.2, 
137.2, 80.2, 69.5, 69.7, 62.8, 48.1, 78.4, 39.7, 11.6, 13, 42.9, 
13.8, 10.3, 31.6, 31.9, 19.9, 0.1, -3.1, 2.6, 28, 11.2, 9.7, 
19.1, 12.2, 13.9, 3.8, 11.8, 15.4, 13.7, 9.3, 12.4, 26.9, 12, 
1, 13, -17.2, 0.7, -18.2, -6.8, -16.6, 29.7, -17.6, 16.5, 28.7, 
7.6, 23.1, -1, 4.5, -8.3, -9.3, 7.7, 7.7, 37, 30.3, 29.2, 44.8, 
14.2, 42, 79.6, 147.6, 175.4, 231.9, 362.4, 514, 554.6, 474.7, 
391.4, 283.4, 248.4, 222.1, 195.6, 165.1, 159.9, 167.2, 145.1, 
148.9, 175.3, 161.7, 138.9, 167.5, 147, 151.9, 210.6, 193.2, 
174.5, 182.1, 178.2, 173.2, 250.1, 218, 224.1, 246.3, 282.4, 
266.9, 321.5, 343.3, 398, 384.8, 406.8, 461.8, 528.6, 581.3, 
745.9, 917.3, 1147, 1422.1, 1746, 2155.5, 2569.3, 2832.4, 2916.9, 
2764.3, 2446.2, 2161.5, 2038.3, 1946.5, 1936.6, 1849.1, 1688.9, 
1370.5, 1040.2, 750.9, 543.3, 403, 292.3, 227.7, 129.8, 150.9, 
139.2, 118.3, 91.3, 76.3, 47.3, 64.3, 28.9, 58.7, 59.8, 66.3, 
73.5, 49.6, 59.3, 76.9, 62.2, 50, 33.8, 45, 33.7, 16.7, 47.6, 
63.7, 76.3, 98.6, 80.4, 65.4, 106.9, 110.2, 94.7, 114.4, 94.4, 
44.2, 63.5, 71.8, 50.4, 40, 63.3, 53.9, 48.5, 70.3, 38.9, 41.8, 
34, 0.4, 52.3, 8.9, 22.8, 34.7, 9.4, 55.2, 42, 37.7, 21.4, 54.6, 
94.7, 74.7, 44.3, 48.2, 62.3, 67.2, 37.5, 70.5, 76.9, 40.4, 52.8, 
37.9, 49.4, 62, 58.3, 61.5, 66, 60, 54.4, 61.8, 84.1, 85.3, 86.4, 
113.3, 111.9, 124.5, 174.9, 177.6, 258, 279.8, 389, 515, 616.4, 
628.6, 552.9, 383.9, 282.8, 198.5, 163.3, 120.5, 107.8, 110.7, 
99.5, 78.3, 109.8, 86.9, 100, 92.4, 110.1, 70.9, 90.2, 59.5, 
52.8, 81.4, 95.4, 62.7, 79.5, 113.9, 54.4, 29.8, 24.3, 34.1, 
9.3, 54, 56.6, 77.9, 49.6, 91.2, 82, 84.9, 30.3, 51.6, 43.3, 
16.5, 40.9, 67.1, 74.3, 39.1, 92, 69, 69.6, 48.5, 45.1, 49.6, 
60.1, 66.6, 68.2, 52.7, 33.1, 39.6, 13.1, -17.3, -4, -18.5, 12.3, 
14.6, 16.2, 15.1, 24.1, 27.1, 11.4, -21.9, 35.4, 36.6, 45.7, 
50.6, 30.3, 37.6, 22.6, 31.5, 38, 3.9, 47, 51.1, 19, 16.3, 34.6, 
32.5, 58.1, 71.9, 79, 67.2, 126.8, 151, 158.8, 157.3, 147, 203.3, 
178.8, 141, 63.2, 119.4, 94.8, 70.8, 67.1, 61.5, 118.2, 108.9, 
72, 35.8, 69.7, 63.2, 82.4, 95, 79.9, 121.8, 114.7, 84.6, 76, 
120.7, 128.6, 151.3, 137.8, 115.3, 97, 60.5, 113.7, 108.7, 114.4, 
81.3, 147.4, 119.5, 178.3, 122.9, 156.7, 114, 131.3, 141.4, 127.5, 
155.5, 171.1, 210.5, 148.5, 143.7, 144.8, 144.9, 155.9, 166.5, 
152.8, 177.7, 170.6, 193.2, 238, 286.5, 302.3, 297.9, 317, 251, 
196.5, 201.3, 160.4, 123.7, 117.9, 64, 120, 89.7, 87.7, 72.7, 
128.6, 90.4, 48.5, 89.7, 60, 21.7, 77.1, 59.3, 64.7, 104.5, 81, 
83.3, 78.7, 118.1, 103.3, 100.1, 19.3, 44.7, 49.6, 26, 56.8, 
52.2, 65.4, 95.2, 92.2, 99.1, 117.5, 128.9, 156.5, 176.8, 240.9, 
279.5, 211.1, 176.6, 154.1, 112.4, 72.6, 118.2, 81.7, 100, 47.6, 
65.3, 58.1, 124.9, 196.2, 172.4, 201.7, 165.2, 180.7, 222.4, 
349.4, 478.1, 517.4, 556.1, 382, 248.3, 179.4, 148, 106.1, 87.3, 
129.4, 119.1, 57.8, 56, 44.5, 70.3, 70.1, 99.2, 46.3, 34.2, 29.4, 
69.6, 43.8, 81.6, 78.6, 86.2, 42.8, 71.2, 64.9, 94.3, 129.4, 
121, 75.6, 111.8, 111.3, 108.5, 127.8, 105.1, 72.6, 63.2, 41.5, 
52.8, 85.8, 103.8, 77.6, 47.8, 87.8, 107.7, 105.2, 93.1, 82.5, 
28)), .Names = c("wavenumber", "int_mean"), class = c("tbl_df", 
"tbl", "data.frame"), row.names = c(NA, -1015L))
```


## Peak picking

As of `osctools` v0.0.2 a shinyGadget for peak-picking in any dataset was introduced. There are many algoritms for automatic peak detection in datasets, but they are usually difficult to generalise over e.g. many spectra. The `peak_picker()` shinyGadget displays a given dataset from a set of x- and y-coordinates and allows you to select peaks by clicking. It will automatically try to determine the nearest peak when selecting a point in the dataset (unless disabled by setting `find_nearest = FALSE`).

To demonstrate the functionality we have a Raman spectrum of a diazonium salt loaded in a tibble.

```{r message = FALSE}
library(tidyverse)
print(raman_spectrum, n = 5)
```

The `peak_picker()` can be launched from RStudio by supplying a tibble with data, and specifying the x- and y-columns.

```{r eval = FALSE}
library(osctools)

peak_picker(raman_spectrum, wavenumber, int_mean)
```

<video style="width:100%;" controls>
  <source src="content/peak_picker.mp4" type="video/mp4">
</video>

After pressing Done, the results will be output to the console. A piece of code is also shown, and is automatically copied to your clipboard. You should paste this into your code, in order to ensure reproducibility the next time you run the code.

```
15 peaks found in the dataset
The add_peaks() function below has been copied to the clipboard!
Please paste it in your script for reproducibility.
    raman_spectrum <- raman_spectrum %>% add_peaks(c(177,215,233,316,349,410,448,470,528,598,644,749,843,902,967))
```

Using the code output, it is easy to later reproduce the plot from the gadget using the `plot_peaks()` function. It returns a ggplot2 object, so we can easily add more layers to the plot.

```{r}
raman_spectrum %>%
  add_peaks(c(177,215,233,316,349,410,448,470,528,598,644,749,843,902,967)) %>% 
  plot_peaks(wavenumber, int_mean) +
  labs(x = expression(paste("Wavenumber (", cm^-1,")")), y = "Intensity (a.u.)")
```

